var histogrammeperso617D19C842BC4DB48BE9AA56788C1821;(()=>{"use strict";var t={210:t=>{t.exports=null},214:(t,e,i)=>{i.d(e,{S:()=>c});var a=i(674),o=(i(210),a.z.Tn),s=a.z.Kx;class n extends o{fill=new a.z.sk({name:"fill",displayName:"Bar Color",value:{value:""}});fontSize=new a.z.iB({name:"fontSize",displayName:"Text Size",value:18});fontFamily=new a.z.ks({name:"fontFamily",displayName:"Font family for values",value:"Segoe UI",placeholder:"e.g. Segoe UI, Arial"});fontColor=new a.z.sk({name:"fontColor",displayName:"Font color for values",value:{value:"#ffffff"}});barRadius=new a.z.iB({name:"barRadius",displayName:"Bar Radius",value:30});barWidth=new a.z.iB({name:"barWidth",displayName:"Bar Width",value:60});barSpacing=new a.z.iB({name:"barSpacing",displayName:"Bar Spacing",value:36});valueDisplayMode=new a.z.iB({name:"valueDisplayMode",displayName:"Value display mode (0=%,1=decimal,2=integer)",value:0});decimalPlaces=new a.z.iB({name:"decimalPlaces",displayName:"Decimal places for values",value:2});name="dataPoint";displayName="Data colors";slices=[this.fill,this.fontSize,this.fontFamily,this.fontColor,this.barRadius,this.barWidth,this.barSpacing,this.valueDisplayMode,this.decimalPlaces]}class l extends o{showBackground=new a.z.jF({name:"showBackground",displayName:"Afficher fond par dÃ©faut",value:!0});titleText=new a.z.ks({name:"titleText",displayName:"Titre du graphique (DSP)",value:"DSP",placeholder:"Titre du graphique"});titleFontFamily=new a.z.ks({name:"titleFontFamily",displayName:"Police du titre",value:"Segoe UI",placeholder:"e.g. Segoe UI, Arial"});titleFontSize=new a.z.iB({name:"titleFontSize",displayName:"Taille du titre (px)",value:20});titleFontBold=new a.z.jF({name:"titleFontBold",displayName:"Titre en gras",value:!0});titleFontColor=new a.z.sk({name:"titleFontColor",displayName:"Couleur du titre",value:{value:"#222222"}});name="layout";displayName="Mise en page";slices=[this.showBackground,this.titleText,this.titleFontFamily,this.titleFontSize,this.titleFontBold,this.titleFontColor]}class r extends o{show=new a.z.jF({name:"show",displayName:"Show X axis labels",value:!0});title=new a.z.ks({name:"title",displayName:"X axis title",value:"",placeholder:""});labelRotation=new a.z.iB({name:"labelRotation",displayName:"Label rotation (deg)",value:0});fontSize=new a.z.iB({name:"fontSize",displayName:"X axis font size",value:14});fontFamily=new a.z.ks({name:"fontFamily",displayName:"X axis font family",value:"Segoe UI",placeholder:"e.g. Segoe UI, Arial"});fontColor=new a.z.sk({name:"fontColor",displayName:"X axis font color",value:{value:"#888888"}});bottomMargin=new a.z.iB({name:"bottomMargin",displayName:"Bottom margin (spacing for X axis)",value:80,options:{minValue:{type:0,value:40},maxValue:{type:1,value:80}}});name="xAxis";displayName="X axis";slices=[this.show,this.title,this.labelRotation,this.fontSize,this.fontFamily,this.fontColor,this.bottomMargin]}class c extends s{dataPointCard=new n;xAxisCard=new r;layoutCard=new l;cards=[this.dataPointCard,this.xAxisCard,this.layoutCard]}},279:(t,e,i)=>{i.d(e,{b:()=>n});var a=i(674),o=i(214);function s(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}class n{target;formattingSettings;formattingSettingsService;svg;container;selectionManager;host;licenseManager;currentUserValidPlans;hasServicePlans;isLicenseUnsupportedEnv;isNotificationDisplayed=!1;dataPoints;events;constructor(t){this.formattingSettingsService=new a.O,this.target=t.element,this.host=t.host,this.licenseManager=this.host.licenseManager,this.selectionManager=this.host.createSelectionManager(),this.events=t.host.eventService,this.checkLicense(),this.container=document.createElement("div"),this.container.style.width="100%",this.container.style.height="100%",this.container.style.overflow="auto",this.container.style.position="relative",this.target.appendChild(this.container),this.svg=s("svg"),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%"),this.svg.style.display="block",this.container.appendChild(this.svg),this.dataPoints=[]}checkLicense(){this.licenseManager&&this.licenseManager.getAvailableServicePlans().then(t=>{this.isLicenseUnsupportedEnv=t.isLicenseUnsupportedEnv,t.isLicenseInfoAvailable&&!this.isLicenseUnsupportedEnv&&(this.currentUserValidPlans=t.plans?.filter(t=>1===t.state||2===t.state),this.hasServicePlans=!!this.currentUserValidPlans?.length),this.hasServicePlans||this.isLicenseUnsupportedEnv||this.notifyLicenseRequired()}).catch(t=>{console.error("Error fetching licenses:",t)})}notifyLicenseRequired(){if(this.isNotificationDisplayed)return;const t=this.isLicenseUnsupportedEnv?1:2;this.licenseManager.notifyLicenseRequired(t).then(t=>{this.isNotificationDisplayed=t}).catch(t=>{console.error("Error notifying license:",t)})}update(t){for(this.events.renderingStarted(t),this.formattingSettings=this.formattingSettingsService.populateFormattingSettingsModel(o.S,t.dataViews&&t.dataViews[0]);this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);const e=t.viewport.width,i=t.viewport.height;this.container.style.width=e+"px",this.container.style.height=i+"px";const a=t.dataViews&&t.dataViews[0];if(!a||!a.categorical)return void this.events.renderingFinished(t);const n=a.categorical.categories[0],l=n.values,r=a.categorical.values[0].values;this.prepareDataPoints(n,l,r);const c=this.dataPoints.map(t=>t.category),d=this.dataPoints.map(t=>t.value),u=this.dataPoints.map(t=>t.selectionId),h=a.metadata&&a.metadata.objects,p=this.getDataPointOptions(h,e,c.length),{fillColor:g,colorNon:m,barRadius:f,fontSize:b,barValueFontSize:y,barValueFontFamily:v,barValueFontColor:S,valueDisplayMode:x,decimalPlaces:A,barWidth:F,barSpacing:C}=p,w=this.getXAxisOptions(h),{showXAxis:z,xAxisTitle:M,labelRotation:N,xAxisFontSize:P,xAxisFontFamily:D,xAxisFontColor:B,bottomMargin:T}=w,R=this.getLayoutOptions(h),{showBackground:L,titleText:V,titleFontFamily:k,titleFontSize:E,titleFontBold:I,titleFontColor:K}=R,j=t=>0===x?(100*t).toFixed(A).replace(".",",")+"%":1===x?t.toFixed(A).replace(".",","):Math.round(t).toString(),O=i-T,U=Math.floor(.8*O),X=40+c.length*(F+C)-C+40,$=Math.max(e,Math.ceil(X)),W=Math.max(i,Math.ceil(U+T+60));this.svg.setAttribute("width",$.toString()),this.svg.setAttribute("height",W.toString()),this.svg.style.background=L?"#f7fbff":"transparent";const q=F+C<70||e<480||$>e,H=[];this.renderBackgroundRect($,W,L,H),this.renderTitle(V,E,k,I,K),q||this.svg.appendChild(this.renderLegend(g,m));const _=s("defs");this.svg.appendChild(_);const Y=this.checkLabelRotation(c,F,C,P,D),G=T-25;c.forEach((t,e)=>{const i={cat:t,index:e,rawValue:d[e]||0,x:40+e*(F+C),barWidth:F,barSpacing:C,baseY:O,maxBarHeight:U,barRadius:f,fontSize:b,fillColor:g,colorNon:m,barValueFontSize:y,barValueFontFamily:v,barValueFontColor:S,narrowMode:q,showXAxis:z,xAxisFontSize:P,xAxisFontFamily:D,xAxisFontColor:B,labelRotation:N,needsRotation:Y,availableSpaceForLabel:G,formatBarValue:j,defs:_,selectionId:u[e]},a=this.renderBar(i,H,u);H.push(a),this.svg.appendChild(a)}),z&&M&&this.renderXAxisTitle(M,40,c.length,F,C,O,P,B,D),this.events.renderingFinished(t)}getDataPointOptions(t,e,i){let a="#2F6FE7";if(t&&t.dataPoint&&t.dataPoint.fill){const e=t.dataPoint.fill;e.solid&&e.solid.color&&(a=e.solid.color)}const o=function(t,e,i=.5){let a=0,o=0,s=0;return 7===t.length&&(a=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16)),a=Math.round(a+(255-a)*e),o=Math.round(o+(255-o)*e),s=Math.round(s+(255-s)*e),`rgba(${a},${o},${s},${i})`}(a,.6,.5),s=t&&t.dataPoint&&"number"==typeof t.dataPoint.barRadius?t.dataPoint.barRadius:30,n=t&&t.dataPoint&&"number"==typeof t.dataPoint.fontSize?t.dataPoint.fontSize:18,r=t&&t.dataPoint||{},c="number"==typeof r.valueDisplayMode?r.valueDisplayMode:0,d="number"==typeof r.decimalPlaces?Math.max(0,r.decimalPlaces):2,u="number"==typeof r.fontSize?r.fontSize:18,h="string"==typeof r.fontFamily?r.fontFamily:"Segoe UI",p=l(r.fontColor)||"#ffffff";let g=Math.min(60,Math.max(10,Math.floor(e/Math.max(1,i)*.6)));t&&t.dataPoint&&"number"==typeof t.dataPoint.barWidth&&(g=t.dataPoint.barWidth);let m=Math.round(.6*g);try{const e=this.formattingSettings;e&&e.dataPointCard&&e.dataPointCard.barSpacing&&"number"==typeof e.dataPointCard.barSpacing.value?m=Math.round(e.dataPointCard.barSpacing.value):t&&t.dataPoint&&"number"==typeof t.dataPoint.barSpacing&&(m=t.dataPoint.barSpacing)}catch{}return{fillColor:a,colorNon:o,barRadius:s,fontSize:n,barValueFontSize:u,barValueFontFamily:h,barValueFontColor:p,valueDisplayMode:c,decimalPlaces:d,barWidth:g,barSpacing:m}}getXAxisOptions(t){const e=t&&t.xAxis||{};return{showXAxis:"boolean"!=typeof e.show||e.show,xAxisTitle:"string"==typeof e.title?e.title:"",labelRotation:"number"==typeof e.labelRotation?e.labelRotation:0,xAxisFontSize:"number"==typeof e.fontSize?e.fontSize:14,xAxisFontFamily:"string"==typeof e.fontFamily?e.fontFamily:"Segoe UI",xAxisFontColor:l(e.fontColor)||"#888",bottomMargin:"number"==typeof e.bottomMargin?Math.max(40,e.bottomMargin):80}}getLayoutOptions(t){let e=!0,i="DSP",a="Segoe UI",o=20,s=!0,n="#222";if(this.formattingSettings&&this.formattingSettings.layoutCard){const t=this.formattingSettings.layoutCard;t.showBackground&&(e=t.showBackground.value),t.titleText&&"string"==typeof t.titleText.value&&(i=t.titleText.value||"DSP"),t.titleFontFamily&&"string"==typeof t.titleFontFamily.value&&(a=t.titleFontFamily.value||"Segoe UI"),t.titleFontSize&&"number"==typeof t.titleFontSize.value&&(o=t.titleFontSize.value||20),t.titleFontBold&&"boolean"==typeof t.titleFontBold.value&&(s=t.titleFontBold.value),t.titleFontColor&&(n=l(t.titleFontColor.value)||"#222")}else if(t&&t.layout){const r=t.layout;"boolean"==typeof r.showBackground&&(e=r.showBackground),"string"==typeof r.titleText&&(i=r.titleText||"DSP"),"string"==typeof r.titleFontFamily&&(a=r.titleFontFamily||"Segoe UI"),"number"==typeof r.titleFontSize&&(o=r.titleFontSize||20),"boolean"==typeof r.titleFontBold&&(s=r.titleFontBold),r.titleFontColor&&(n=l(r.titleFontColor)||"#222")}return{showBackground:e,titleText:i,titleFontFamily:a,titleFontSize:o,titleFontBold:s,titleFontColor:n}}prepareDataPoints(t,e,i){this.dataPoints=e.map((e,a)=>({category:e.toString(),value:i[a],selectionId:this.host.createSelectionIdBuilder().withCategory(t,a).createSelectionId()})),this.dataPoints.every(t=>{const e=parseInt(t.category);return!isNaN(e)&&e>=1900&&e<=2100&&4===t.category.length})&&this.dataPoints.sort((t,e)=>parseInt(t.category)-parseInt(e.category))}checkLabelRotation(t,e,i,a,o){for(const n of t){const t=s("text");t.setAttribute("font-size",a.toString()),t.setAttribute("font-family",o),t.textContent=n,t.style.visibility="hidden",this.svg.appendChild(t);const l=t.getBBox().width;if(this.svg.removeChild(t),l>e+i-4)return!0}return!1}renderBackgroundRect(t,e,i,a){const o=s("rect");o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("width",t.toString()),o.setAttribute("height",e.toString()),o.setAttribute("fill",i?"#f7fbff":"transparent"),o.style.cursor="pointer",o.addEventListener("click",t=>{t.stopPropagation(),this.selectionManager.clear().then(()=>{this.updateSelection([],a);const t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});this.svg.dispatchEvent(t)})}),this.svg.firstChild?this.svg.insertBefore(o,this.svg.firstChild):this.svg.appendChild(o)}renderTitle(t,e,i,a,o){const n=s("text");n.setAttribute("x","10"),n.setAttribute("y","20"),n.setAttribute("font-size",e.toString()),n.setAttribute("font-family",i),n.setAttribute("font-weight",a?"bold":"normal"),n.setAttribute("fill",o),n.textContent=t,this.svg.appendChild(n)}renderXAxisTitle(t,e,i,a,o,n,l,r,c){const d=s("text");d.setAttribute("x",(e+(i*(a+o)-o)/2).toString()),d.setAttribute("y",(n+48).toString()),d.setAttribute("text-anchor","middle"),d.setAttribute("font-size",l.toString()),d.setAttribute("fill",r),d.setAttribute("font-family",c),d.textContent=t,this.svg.appendChild(d)}renderLegend(t,e){const i=s("g");let a=10;const o=s("rect");o.setAttribute("x",a.toString()),o.setAttribute("y",30..toString()),o.setAttribute("width","30"),o.setAttribute("height","12"),o.setAttribute("rx","6"),o.setAttribute("fill",e),i.appendChild(o);const n=s("text");n.setAttribute("x",(a+35).toString()),n.setAttribute("y",40..toString()),n.setAttribute("font-size","14"),n.setAttribute("fill","#222"),n.textContent="Non",i.appendChild(n),a+=80;const l=s("rect");l.setAttribute("x",a.toString()),l.setAttribute("y",30..toString()),l.setAttribute("width","30"),l.setAttribute("height","12"),l.setAttribute("rx","6"),l.setAttribute("fill",t),i.appendChild(l);const r=s("text");return r.setAttribute("x",(a+35).toString()),r.setAttribute("y",40..toString()),r.setAttribute("font-size","14"),r.setAttribute("fill","#222"),r.textContent="Oui",i.appendChild(r),i}renderBar(t,e,i){const{cat:a,index:o,rawValue:n,x:l,barWidth:r,barSpacing:c,baseY:d,maxBarHeight:u,barRadius:h,fontSize:p,fillColor:g,colorNon:m,barValueFontSize:f,barValueFontFamily:b,barValueFontColor:y,narrowMode:v,showXAxis:S,xAxisFontSize:x,xAxisFontFamily:A,xAxisFontColor:F,labelRotation:C,needsRotation:w,availableSpaceForLabel:z,formatBarValue:M,defs:N}=t,P=100*n,D=M(n),B=Math.max(0,Math.min(1,n))*u,T=B>0?B:0,R=Math.min(h,Math.floor(r/2)),L=s("g");L.style.cursor="pointer",L.setAttribute("data-index",o.toString()),L.addEventListener("contextmenu",t=>{t.preventDefault(),this.selectionManager.showContextMenu(i[o],{x:t.clientX,y:t.clientY})});const V=s("rect");if(V.setAttribute("x",l.toString()),V.setAttribute("y",(d-u).toString()),V.setAttribute("width",r.toString()),V.setAttribute("height",u.toString()),V.setAttribute("rx",R.toString()),V.setAttribute("fill",m),L.appendChild(V),P<35&&T>0)this.renderLowValueBar(L,N,o,l,d,r,u,T,R,g,D,f,b,y,v);else if(T>0)this.renderHighValueBar(L,l,d,r,T,u,R,g,D,p,f,b,y,v);else{const t=s("rect");t.setAttribute("x",(l+2).toString()),t.setAttribute("y",(d-2).toString()),t.setAttribute("width",(r-4).toString()),t.setAttribute("height","2"),t.setAttribute("fill",m),L.appendChild(t)}return S&&this.renderXAxisLabel(L,a,l,r,c,d,x,A,F,C,w,z),L.addEventListener("click",t=>{t.stopPropagation();const a=t,s=a.ctrlKey||a.metaKey;this.selectionManager.select(i[o],s).then(t=>{this.updateSelection(t,e)})}),L}renderLowValueBar(t,e,i,a,o,n,l,r,c,d,u,h,p,g,m){const f=`clip-bar-${i}-${Date.now()}`,b=s("clipPath");b.setAttribute("id",f);const y=s("rect");y.setAttribute("x",a.toString()),y.setAttribute("y",(o-l).toString()),y.setAttribute("width",n.toString()),y.setAttribute("height",l.toString()),y.setAttribute("rx",c.toString()),b.appendChild(y),e.appendChild(b);const v=s("rect");v.setAttribute("x",a.toString()),v.setAttribute("y",(o-r).toString()),v.setAttribute("width",n.toString()),v.setAttribute("height",r.toString()),v.setAttribute("fill",d),v.setAttribute("clip-path",`url(#${f})`),t.appendChild(v);const S=s("text"),x=a+n/2,A=o-l/2;S.setAttribute("x",x.toString()),S.setAttribute("y",A.toString()),S.setAttribute("text-anchor","middle"),S.setAttribute("dominant-baseline","middle"),S.setAttribute("font-size",h.toString()),S.setAttribute("fill",g),S.setAttribute("font-family",p),S.textContent=u,m&&S.setAttribute("transform",`rotate(-90 ${x} ${A})`),t.appendChild(S)}renderHighValueBar(t,e,i,a,o,n,l,r,c,d,u,h,p,g){const m=o,f=s("rect");f.setAttribute("x",e.toString()),f.setAttribute("y",(i-m).toString()),f.setAttribute("width",a.toString()),f.setAttribute("height",m.toString());const b=Math.min(l,Math.floor(m/2));f.setAttribute("rx",b.toString()),f.setAttribute("fill",r),t.appendChild(f);const y=s("text"),v=e+a/2,S=g?i-n/2:i-m/2;y.setAttribute("x",v.toString()),y.setAttribute("y",S.toString()),y.setAttribute("text-anchor","middle"),y.setAttribute("dominant-baseline","middle");const x=g?d:m<d?Math.max(8,Math.round(.6*m)):d;y.setAttribute("font-size",x.toString()),y.setAttribute("fill",p),y.setAttribute("font-family",h),y.textContent=c,g&&y.setAttribute("transform",`rotate(-90 ${v} ${S})`),t.appendChild(y)}renderXAxisLabel(t,e,i,a,o,n,l,r,c,d,u,h){const p=s("text"),g=i+a/2,m=n+20;p.setAttribute("x",g.toString()),p.setAttribute("y",m.toString()),p.setAttribute("font-size",l.toString()),p.setAttribute("fill",c),p.setAttribute("font-family",r);let f=e;const b=a+o-4,y=s("text");y.setAttribute("font-size",l.toString()),y.setAttribute("font-family",r),y.textContent=e,y.style.visibility="hidden",this.svg.appendChild(y);const v=y.getBBox().width;if(this.svg.removeChild(y),u||0!==d){const t=0!==d?d:45;p.setAttribute("text-anchor","end"),p.setAttribute("transform",`rotate(${-t} ${g} ${m})`);const i=Math.floor(1.2*h);if(v>i&&e.length>10){const t=Math.floor(e.length*(i/v))-3;f=e.substring(0,Math.max(1,t))+"..."}}else if(p.setAttribute("text-anchor","middle"),v>b&&e.length>3){let t=Math.floor(e.length*(b/v))-3;t=Math.max(1,t),f=e.substring(0,t)+"..."}p.textContent=f,t.appendChild(p)}updateSelection(t,e){e.forEach((e,i)=>{if(0===t.length)e.style.opacity="1";else{const a=t.some(t=>{const e=t.key,a=this.dataPoints[i]?.selectionId?.key;return e===a});e.style.opacity=a?"1":"0.3"}})}getFormattingModel(){return this.formattingSettingsService.buildFormattingModel(this.formattingSettings)}}function l(t){if(t)return"string"==typeof t?t:t.solid&&t.solid.color?t.solid.color:t.value?t.value:void 0}},639:(t,e,i)=>{function a(t,e){return{objectName:t,propertyName:e.name,selector:e.selector,altConstantValueSelector:e.altConstantSelector,instanceKind:e.instanceKind}}function o(t,e,i){return null==e||"object"==typeof e&&!e.solid?i:e.solid?{value:null==e?void 0:e.solid.color}:(null==t?void 0:t.items)?t.items.find(t=>t.value==e):e}i.d(e,{D:()=>o,y:()=>a})},667:(t,e,i)=>{i.d(e,{A:()=>o});var a=i(754);const o=class{constructor(t){this.localizationManager=t}populateFormattingSettingsModel(t,e){var i,o;let s=new t,n=null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.objects;return n&&(null===(o=s.cards)||void 0===o||o.forEach(t=>{var e;t instanceof a.St&&(null===(e=t.topLevelSlice)||void 0===e||e.setPropertiesValues(n,t.name)),(t instanceof a.Tn?[t]:t.groups).forEach(e=>{var i,a,o,s;null===(i=e.topLevelSlice)||void 0===i||i.setPropertiesValues(n,t.name),null===(a=null==e?void 0:e.slices)||void 0===a||a.forEach(e=>{null==e||e.setPropertiesValues(n,t.name)}),null===(s=null===(o=null==e?void 0:e.container)||void 0===o?void 0:o.containerItems)||void 0===s||s.forEach(e=>{var i;null===(i=null==e?void 0:e.slices)||void 0===i||i.forEach(e=>{null==e||e.setPropertiesValues(n,t.name)})})})})),s}buildFormattingModel(t){let e={cards:[]};return t.cards.filter(({visible:t=!0})=>t).forEach(t=>{var i;let o={displayName:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,description:this.localizationManager&&t.descriptionKey?this.localizationManager.getDisplayName(t.descriptionKey):t.description,groups:[],uid:t.name+"-card",analyticsPane:t.analyticsPane};const s=t.name;if(t.topLevelSlice){let e=t.topLevelSlice.getFormattingSlice(s,this.localizationManager);e.suppressDisplayName=!0,o.topLevelToggle=e}null===(i=t.onPreProcess)||void 0===i||i.call(t);const n=t instanceof a.Tn;(n?[t].filter(({visible:t=!0})=>t):t.groups.filter(({visible:t=!0})=>t)).forEach(t=>{const e=t.name+"-group",i={displayName:n?void 0:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,description:n?void 0:this.localizationManager&&t.descriptionKey?this.localizationManager.getDisplayName(t.descriptionKey):t.description,slices:[],uid:e,collapsible:t.collapsible,delaySaveSlices:t.delaySaveSlices,disabled:t.disabled,disabledReason:t.disabledReason};o.groups.push(i);const a={};if(t.container){const o=t.container,n=e+"-container",l={displayName:this.localizationManager&&o.displayNameKey?this.localizationManager.getDisplayName(o.displayNameKey):o.displayName,description:this.localizationManager&&o.descriptionKey?this.localizationManager.getDisplayName(o.descriptionKey):o.description,containerItems:[],uid:n};o.containerItems.forEach(t=>{const e=t.displayNameKey?t.displayNameKey:t.displayName,i=n+e;let o={displayName:this.localizationManager&&t.displayNameKey?this.localizationManager.getDisplayName(t.displayNameKey):t.displayName,slices:[],uid:i};this.buildFormattingSlices({slices:t.slices,objectName:s,sliceNames:a,formattingSlices:o.slices}),l.containerItems.push(o)}),i.container=l}if(t.slices){if(t.topLevelSlice){let e=t.topLevelSlice.getFormattingSlice(s,this.localizationManager);e.suppressDisplayName=!0,(null==i.displayName?o:i).topLevelToggle=e}this.buildFormattingSlices({slices:t.slices,objectName:s,sliceNames:a,formattingSlices:i.slices})}}),o.revertToDefaultDescriptors=this.getRevertToDefaultDescriptor(t),e.cards.push(o)}),e}buildFormattingSlices({slices:t,objectName:e,sliceNames:i,formattingSlices:a}){null==t||t.filter(({visible:t=!0})=>t).forEach(t=>{let o=null==t?void 0:t.getFormattingSlice(e,this.localizationManager);o&&(void 0===i[t.name]?i[t.name]=0:(i[t.name]++,o.uid=`${o.uid}-${i[t.name]}`),a.push(o))})}getRevertToDefaultDescriptor(t){var e;const i={};let o,s=[],n=[];return t instanceof a.St&&t.topLevelSlice&&s.push(...null===(e=t.topLevelSlice)||void 0===e?void 0:e.getRevertToDefaultDescriptor(t.name)),(t instanceof a.Tn?[t].filter(({visible:t=!0})=>t):t.groups.filter(({visible:t=!0})=>t)).forEach(e=>{var a,l;o=this.getSlicesRevertToDefaultDescriptor(t.name,e.slices,i,e.topLevelSlice),null===(l=null===(a=e.container)||void 0===a?void 0:a.containerItems)||void 0===l||l.forEach(e=>{n=n.concat(this.getSlicesRevertToDefaultDescriptor(t.name,e.slices,i))}),s.push(...o.concat(n))}),s}getSlicesRevertToDefaultDescriptor(t,e,i,a){let o=[];return a&&(i[a.name]=!0,o=o.concat(a.getRevertToDefaultDescriptor(t))),null==e||e.forEach(e=>{e&&!i[e.name]&&(i[e.name]=!0,o=o.concat(e.getRevertToDefaultDescriptor(t)))}),o}}},674:(t,e,i)=>{i.d(e,{O:()=>o.A,z:()=>a});var a=i(754),o=i(667)},754:(t,e,i)=>{i.d(e,{Kx:()=>n,St:()=>l,Tn:()=>r,iB:()=>h,jF:()=>d,ks:()=>p,sk:()=>u});var a=i(639);class o{}class s extends o{}class n{}class l extends o{}class r extends s{}class c extends o{constructor(t){super(),Object.assign(this,t)}getFormattingSlice(t,e){const i=this.type,a=this.name,o={displayName:e&&this.displayNameKey?e.getDisplayName(this.displayNameKey):this.displayName,description:e&&this.descriptionKey?e.getDisplayName(this.descriptionKey):this.description,uid:t+"-"+a};return Object.assign(Object.assign({},o),{control:{type:i,properties:this.getFormattingComponent(t,e)}})}getFormattingComponent(t,e){return{descriptor:a.y(t,this),value:this.value}}getRevertToDefaultDescriptor(t){return[{objectName:t,propertyName:this.name}]}setPropertiesValues(t,e){var i;let o=null===(i=null==t?void 0:t[e])||void 0===i?void 0:i[this.name];this.value=a.D(this,o,this.value)}}class d extends c{constructor(t){super(t),this.type="ToggleSwitch"}}class u extends c{constructor(t){super(t),this.type="ColorPicker"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{defaultColor:this.defaultColor,isNoFillItemSupported:this.isNoFillItemSupported})}}class h extends c{constructor(t){super(t),this.type="NumUpDown"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{options:this.options})}}class p extends c{constructor(t){super(t),this.type="TextInput"}getFormattingComponent(t){return Object.assign(Object.assign({},super.getFormattingComponent(t)),{placeholder:this.placeholder})}}}},e={};function i(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var a={};(()=>{i.r(a),i.d(a,{default:()=>s});var t=i(279),e=window.powerbi,o={name:"histogrammeperso617D19C842BC4DB48BE9AA56788C1821",displayName:"histogrammeperso",class:"Visual",apiVersion:"5.10.0",create:e=>{if(t.b)return new t.b(e);throw"Visual instance not found"},createModalDialog:(t,e,i)=>{const a=globalThis.dialogRegistry;t in a&&new a[t](e,i)},custom:!0};void 0!==e&&(e.visuals=e.visuals||{},e.visuals.plugins=e.visuals.plugins||{},e.visuals.plugins.histogrammeperso617D19C842BC4DB48BE9AA56788C1821=o);const s=o})(),histogrammeperso617D19C842BC4DB48BE9AA56788C1821=a})();